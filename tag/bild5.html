<!DOCTYPE html>

<html lang="de">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>möchte­gern­geek - Bild tag</title>
<meta content="Dinge, die ich für hübsch, praktisch oder interessant halte." name="description"/>
<meta content="Hendrik Schawe" name="author"/>
<meta content="Hendrik Schawe" name="copyright"/>
<meta content="#3d4f5d" name="theme-color"/>
<link href="/manifest.json" rel="manifest"/>
<link href="/favicon.ico" rel="icon" type="image/x-icon"/>
<!-- Add to home screen for Safari on iOS-->
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="default" name="apple-mobile-web-app-status-bar-style"/>
<meta content="möchtegerngeek" name="apple-mobile-web-app-title"/>
<link href="/extra/icons/icon-152x152.png" rel="apple-touch-icon"/>
<!-- Add to home screen for Windows-->
<meta content="/extra/icons/icon-152x152.png" name="msapplication-TileImage"/>
<meta content="#b0cadb" name="msapplication-TileColor"/>
<meta content="möchte­gern­geek" property="og:site_name"/>
<meta content="Hendrik Schawe" property="og:article:author"/>
<meta content="article" property="og:type"/>
<meta content="summary" name="twitter:card"/>
<meta content="https://blog.schawe.me/img/logo.png" property="og:image"/>
<meta content="https://blog.schawe.me/img/logo.png" name="twitter:image"/>
<link href="https://blog.schawe.me/tag/bild5.html" hreflang="de" rel="alternate">
<link href="https://blog.schawe.me/en/tag/bild5.html" hreflang="en" rel="alternate">
<link href="https://blog.schawe.me/tag/bild5.html" hreflang="x-default" rel="alternate">
<link href="/theme/webassets-external/6fc8b5d0286641a8981481d8734adb14_pure-min.css" rel="stylesheet" type="text/css"/>
<link href="/theme/webassets-external/cd1fc9b8f4fd6935866873d6d3cfad1b_grids-responsive-min.css" rel="stylesheet" type="text/css"/>
<link href="/theme/css/blog.css" rel="stylesheet" type="text/css"/>
<script async="" src="/theme/js/mathjax-config.js"></script>
<script async="" crossorigin="anonymous" data-search-pseudo-elements="" integrity="sha512-RXf+QSDCUQs5uwRKaDoXt55jygZZm2V++WUZduaU/Ui/9EGp3f/2KZVahFZBKGH0s774sd3HmrhUy+SgOFQLVQ==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js"></script>
<!-- Preload the other fonts early -->
<link as="font" crossorigin="anonymous" href="/theme/woff2/Merriweather-12ptRegular.woff2" rel="prefetch" type="font/woff2"/>
<link as="font" crossorigin="anonymous" href="/theme/woff2/FiraSans-Regular.woff2" rel="prefetch" type="font/woff2"/>
<link as="font" crossorigin="anonymous" href="/theme/woff2/FiraSans-Bold.woff2" rel="prefetch" type="font/woff2"/>
<link as="font" crossorigin="anonymous" href="/theme/woff2/Merriweather-12ptItalic.woff2" rel="prefetch" type="font/woff2"/>
<link as="font" crossorigin="anonymous" href="/theme/woff2/firacode-regular.woff2" rel="prefetch" type="font/woff2"/>
<link as="font" crossorigin="anonymous" href="/theme/woff2/firacode-bold.woff2" rel="prefetch" type="font/woff2"/>
<link href="https://blog.schawe.me/feeds/all.atom.xml" rel="alternate" title="möchte­gern­geek - Full Atom Feed" type="application/atom+xml">
</link></link></link></link></head>
<body>
<div class="pure-g" id="layout">
<div class="sidebar pure-u-1 pure-u-lg-1-4">
<div class="header">
<h1 class="brand-title"><a href="https://blog.schawe.me">möchte­gern­geek</a></h1>
<nav class="nav">
<ul class="nav-list container">
<li class="nav-item">
<a class="pure-button" href="https://blog.schawe.me/en/"><i class="fa fa-globe"></i> en</a>
</li>
<li class="nav-item">
<a class="pure-button" href="https://blog.schawe.me/categories.html">Kategorien</a>
</li>
<li class="nav-item">
<a class="pure-button" href="https://blog.schawe.me/tags.html">Tags</a>
</li>
<li class="nav-item">
<a class="pure-button" href="https://blog.schawe.me/archives.html">Archiv</a>
</li>
</ul>
</nav>
<div class="container">
<a class="sidebar-social-links" href="https://hendrik.schawe.me" rel="noopener" target="_blank" title="Ich">
<i class="fas fa-user sidebar-social-links"></i>
</a>
<a class="sidebar-social-links" href="https://github.com/surt91" rel="noopener" target="_blank" title="GitHub">
<i class="fab fa-github sidebar-social-links"></i>
</a>
<a class="sidebar-social-links" href="mailto:hendrik.schawe+blog@gmail.com" rel="noopener" target="_blank" title="Email">
<i class="fas fa-envelope sidebar-social-links"></i>
</a>
<a class="sidebar-social-links" href="https://twitter.com/surt91" rel="noopener" target="_blank" title="Twitter">
<i class="fab fa-twitter sidebar-social-links"></i>
</a>
</div>
<div class="container">
<form action="https://blog.schawe.me/search.html" class="pure-form">
<fieldset>
<input aria-label="Suche" class="search-query" id="tipue_search_input" name="q" placeholder="Suche" type="text"/>
</fieldset>
</form>
</div>
</div>
</div>
<div class="content pure-u-1 pure-u-lg-3-4">
<div class="posts">
<article class="post">
<header>
<h2 class="post-title">
<a href="https://blog.schawe.me/randomGraphs.html"> A Graph a Day  </a>
</h2>
<div class="post-meta">
<time class="post-time" datetime="2017-05-13T17:36:00+02:00">13.05.2017</time>
<span class="category category-code">
<a href="https://blog.schawe.me/categories.html#code-ref">Code</a>
</span>
<span class="tags-in-article">
<span class="tag">
<a href="https://blog.schawe.me/tags.html#bild-ref">Bild</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#code-ref">Code</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#github-ref">GitHub</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#physik-ref">Physik</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#python-ref">Python</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#twitter-bot-ref">Twitter-Bot</a>
</span>
</span>
</div>
</header>
<div class="post-content">
<p>Vor einiger Zeit habe ich <a href="https://twitter.com/randomGraphs">@randomGraphs</a>
geschrieben: Ein Twitterbot, der einen Zufallsgraphen pro Tag tweetet.</p>
<p>Die meisten Graphtypen, die er darstellen kann stammen aus der NetworkX
Bibliothek oder sind reale Netzwerke. Ein paar <a href="https://blog.schawe.me/drafts/proximity-graphs.html">Proximity</a>
<a href="https://blog.schawe.me/relative-neighborhood-graph.html">Graphs</a> habe ich selbst geschrieben.
Die Darstellung und gegebenenfalls das Layout übernimmt Cytoscape oder
<a href="https://graph-tool.skewed.de/">graph-tool</a> (dessen Autor diesem Bot folgt).</p>
<p>Bei diesem Projekt habe ich exzessiv Gebrauch von Pythons <code>Decorator</code> und
<code>Introspection</code> gemacht, sodass man, um einen neuen Graphtyp einzuführen
nur eine Methode schreiben muss, die eine Graph-Datenstruktur zurück gibt.
Einstellungen, welche Darstellungen erlaubt sind, werden per <code>decorator</code>
getätigt und alle Methoden werden per Introspection automatisch zum Pool
hinzugefügt, aus dem der Zufallsgenerator zieht.</p>
<p>Eine typische Methode sieht etwa so aus.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@synonym</span><span class="p">(</span><span class="s2">"Barabasi Albert"</span><span class="p">)</span>
<span class="nd">@synonym</span><span class="p">(</span><span class="s2">"preferential attachment"</span><span class="p">)</span>
<span class="nd">@style</span><span class="p">(</span><span class="n">styles_all</span><span class="p">)</span>
<span class="nd">@layout</span><span class="p">([</span><span class="s2">"kamada-kawai"</span><span class="p">,</span> <span class="s2">"force-directed"</span><span class="p">,</span> <span class="s2">"sfdp"</span><span class="p">,</span> <span class="s2">"fruchterman_reingold"</span><span class="p">,</span> <span class="s2">"arf"</span><span class="p">,</span> <span class="s2">"radial_tree"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">generateBarabasiAlbert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">N</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="n">N</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">m</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="n">m</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

    <span class="n">G</span> <span class="o">=</span> <span class="n">gen</span><span class="o">.</span><span class="n">barabasi_albert_graph</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>  <span class="c1"># gen is networkx Generator</span>
    <span class="n">details</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Barabási-Albert Graph"</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="n">N</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="n">m</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">seed</span><span class="p">,</span>
                   <span class="n">template</span><span class="o">=</span><span class="s2">"</span><span class="si">{name}</span><span class="s2">, N = </span><span class="si">{N}</span><span class="s2">, m = </span><span class="si">{m}</span><span class="s2">"</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">G</span><span class="p">,</span> <span class="n">details</span>
</code></pre></div>
<p>Und liefert für <span class="math">\(N=226, m=1\)</span> und das <code>radial_tree</code> Layout beispielsweise
diesen Graph. Die Größe der Knoten wird hier von der
<a href="https://en.wikipedia.org/wiki/Betweenness_centrality">Betweenness Centrality</a> bestimmt.</p>
<p><img alt="Graph" height="1024" src="/img/barabasi.png" width="2048"/></p>
<p>Die <code>@synonym</code> Decorators ermöglichen die zweite Funktion des Bots, denn
er tweetet nicht nur einmal am Tag einen zufälligen Graphen, sondern reagiert
auch auf Mentions. Falls in der Mention der Name der Methode oder eines der
per <code>@synonym</code> registrierten Worte auftaucht, antwortet er mit einem Bild des
entsprechenden Graphen. Dank <code>fuzzywuzzy</code> ist es sogar resistent gegen Tippfehler.</p>
<p>Twitter unterstützt leider keine Vektorgrafiken und wandelt Bilder gerne in
stark komprimierte <code>.jpg</code>, was gerade bei diesen Graphen zu störenden
Artefakten führt. Dagegen hilft es, wenn ich einen Rand aus transparenten
Pixeln dem Bild hinzufüge. Das führt dazu, dass Twitter <code>.jpg</code> nicht als
geeignetes Format ansieht und die Bilder im verlustfreien <code>.png</code> ausliefert.</p>
<div class="highlight"><pre><span></span><code>convert<span class="w"> </span>-alpha<span class="w"> </span>on<span class="w"> </span>-channel<span class="w"> </span>RGBA<span class="w"> </span>-bordercolor<span class="w"> </span><span class="s2">"rgba(0,0,0,0)"</span><span class="w"> </span>-border<span class="w"> </span><span class="s2">"1x1"</span><span class="w"> </span>input.png<span class="w"> </span>output.png
</code></pre></div>
<p><img alt="Graph" height="1024" src="/img/agraphaday.png" width="2048"/></p>
<p>Der komplette Quellcode ist auf <a href="https://github.com/surt91/AGraphADay">Github</a>.</p>
</div>
</article>
<article class="post">
<header>
<h2 class="post-title">
<a href="https://blog.schawe.me/tspview.html"> TSPview  </a>
</h2>
<div class="post-meta">
<time class="post-time" datetime="2016-09-17T15:41:00+02:00">17.09.2016</time>
<span class="category category-code">
<a href="https://blog.schawe.me/categories.html#code-ref">Code</a>
</span>
<span class="tags-in-article">
<span class="tag">
<a href="https://blog.schawe.me/tags.html#bild-ref">Bild</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#c-ref">C++</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#code-ref">Code</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#github-ref">GitHub</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#python-ref">Python</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#video-ref">Video</a>
</span>
</span>
</div>
</header>
<div class="post-content">
<p>Das Problem des Handlungsreisenden ist es, die kürzeste Rundtour zu planen,
sodass man alle Städte besucht. Es ist eines der berühmtesten
Optimierungsprobleme und gehört zur Klasse <a href="https://de.wikipedia.org/wiki/NP-Schwere"><span class="caps">NP</span>-hard</a>.</p>
<p>Es gibt also (<a href="https://de.wikipedia.org/wiki/P-NP-Problem">bis jetzt</a>)
keine effiziente Möglichkeit zur Lösung. Allerdings gibt es
<a href="https://scholar.google.fr/scholar?q=euclidean+tsp+ptas&amp;hl=de">Näherungen</a>,
<a href="https://scholar.google.fr/scholar?q=tsp+linear+programming">untere Schranken</a>
und unzählige Heuristiken.</p>
<p>Die einfachsten dieser Heuristiken habe ich in einem kleinen Programm TSPview
implementiert, mitsamt Visualisierung. Der Quellcode ist auf
<a href="https://github.com/surt91/TSPview">GitHub</a> zu finden.</p>
<video controls="" loop="" width="100%">
<source src="/vid/tspview2.mp4" type="video/mp4"/>
Your browser does not support the video tag.
</video>
<h2>Algorithmen</h2>
<p>Hier folgt eine kurze Beschreibung der verwendeten Algorithmen und jeweils ein
Bild, welche Lösung die Methode auf einer berühmten Instanz des <span class="caps">TSP</span> findet.</p>
<p><img alt="42 Hauptstädte in Amerika" class="invertable" height="560" src="/img/tsp.png" width="1000"/>
Das sind 42 Hauptstädte der Vereinigten Staaten von Amerika und Washington, <span class="caps">DC</span> (Hawaii und
Alaska, sowie einige Staaten an der Ostküste, die das Problem nicht schwieriger
machen, fehlen). Dieses Problem war das erste größere, das 1956 beweisbar
optimal gelöst wurde.</p>
<h3>Nearest Neighbor</h3>
<p><img alt="Nearest Neighbor" class="invertable" height="560" src="/img/tsp_nearestNeighbor.png" width="1000"/>
Die Nearest Neighbor Heuristik (<span class="math">\(\mathcal{O}(N^2)\)</span>) startet bei einer zufälligen Stadt und wählt
als nächste Stadt immer die Stadt, die am nächsten an der aktuellen Stadt ist und
noch nicht besucht wurde.</p>
<h3>Greedy</h3>
<p><img alt="Greedy" class="invertable" height="560" src="/img/tsp_greedy.png" width="1000"/>
Diese Heuristik (<span class="math">\(\mathcal{O}(N^2 \log N)\)</span>) ist ähnlich zu <a href="https://de.wikipedia.org/wiki/Algorithmus_von_Kruskal">Kruskals Algorithmus für minimal spannende Bäume</a>.
Sie nimmt die kürzeste Verbindung zwischen zwei Städten und fügt sie der Tour
hinzu, wenn sie in der Tour noch erlaubt ist.</p>
<h3>Farthest Insertion</h3>
<p><img alt="Farthest Insertion" class="invertable" height="560" src="/img/tsp_farIn.png" width="1000"/>
Farthest Insertion (<span class="math">\(\mathcal{O}(N^3)\)</span>) startet bei einer zufälligen Stadt und fügt dann die Stadt,
die am weitesten von der aktuellen Tour entfernt ist an der Stelle in die Tour,
die dafür sorgt, dass die Tour möglichst kurz bleibt.</p>
<h3>Two-Opt</h3>
<p><img alt="Two-Opt" class="invertable" height="560" src="/img/tsp_twoOpt.png" width="1000"/>
Two-Opt beginnt mit einer beliebigen Tour, die bspw. durch eine der obigen
Heuristken erstellt wurde und verbessert sie, indem sie zwei Verbindungen nimmt
und die Endpunkte über Kreuz austauscht, wenn die Tour dadurch verbunden bleibt
und kürzer wird.</p>
<h3>Lineare Programmierung mit „Subtour Elimination Cuts“</h3>
<p><img alt="Linear Programming" class="invertable" height="560" src="/img/tsp_LP.png" width="1000"/>
Lineare Programmierung (<span class="caps">LP</span>) zu erklären, würde diesen Artikel sprengen. Aber diese Methode liefert
untere Schranken für die Tourlänge und kann somit benutzt werden, um die
Qualität einer heuristischen Lösung abzuschätzen. Falls man die optimale
Lösung durch lineare Programmierung findet, erkennt man sie auch sofort als optimal.</p>
<p>Für weitere Details, kann ich auf einen <a href="http://arxiv.org/abs/1512.08554">arXiv Artikel</a>
von mir verweisen.</p>
<h3>Concorde</h3>
<p><img alt="Optimale Tour" class="invertable" height="560" src="/img/tsp_opt.png" width="1000"/>
<a href="http://www.math.uwaterloo.ca/tsp/concorde.html">Concorde</a>
ist der „State of the Art“ Solver für das Problem des Handlungsreisenden
und löst problemlos Instanzen mit mehr als 1000 Städten.
Intern benutzt es zwar eine Menge Heuristiken, allerdings auch lineare
Programmierung, um nachzuweisen, dass die gefundene Lösung optimal ist.</p>
<h2>Technische Details</h2>
<p>TSPview ist ein Python3 Programm, das zur Darstellung PyQt5 benutzt, das sich
per <code>pip3 install PyQt5</code> einfach installieren lässt.</p>
<p>Darüber hinaus enthält es eine optionale Abhängigkeit zu <span class="caps">CPLEX</span>, einem
kommerziellen <span class="caps">LP</span> solver.</p>
<h3>boost::python</h3>
<p>Da das Hauptprogramm in Python geschrieben ist, aber der <span class="caps">LP</span>-Teil in C++,
braucht man eine Möglichkeit der Kommunikation. Glücklicherweise gibt es
mit <a href="http://www.boost.org/doc/libs/1_61_0/libs/python/doc/html/index.html">boost::python</a>
eine Möglichkeit C++ Klassen in Python als Python-Klassen zu benutzen.</p>
<p>Um beispielsweise die C++ Klasse <code>MyClass</code>, deren Konstruktor einen Integer und
eine Python-Liste entgegen nehmen soll, in Python benutzen und <code>myMethod</code>
aufrufen zu können, reicht folgender Code:</p>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;boost/python.hpp&gt;</span>
<span class="k">namespace</span><span class="w"> </span><span class="nn">py</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">boost</span><span class="o">::</span><span class="nn">python</span><span class="p">;</span>

<span class="c1">// implement MyClass</span>

<span class="n">BOOST_PYTHON_MODULE</span><span class="p">(</span><span class="n">MyClass</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">py</span><span class="o">::</span><span class="n">class_</span><span class="o">&lt;</span><span class="n">MyClass</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"MyClass"</span><span class="p">,</span><span class="w"> </span><span class="n">py</span><span class="o">::</span><span class="n">init</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">py</span><span class="o">::</span><span class="n">list</span><span class="o">&gt;</span><span class="p">())</span>
<span class="w">        </span><span class="p">.</span><span class="n">def</span><span class="p">(</span><span class="s">"myMethod"</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">MyClass</span><span class="o">::</span><span class="n">myMethod</span><span class="p">)</span>
<span class="w">    </span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>
</article>
<article class="post">
<header>
<h2 class="post-title">
<a href="https://blog.schawe.me/dglshow.html"> DGLshow  </a>
</h2>
<div class="post-meta">
<time class="post-time" datetime="2014-03-19T11:28:00+01:00">19.03.2014</time>
<span class="category category-code">
<a href="https://blog.schawe.me/categories.html#code-ref">Code</a>
</span>
<span class="tags-in-article">
<span class="tag">
<a href="https://blog.schawe.me/tags.html#bild-ref">Bild</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#c-ref">C++</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#chaos-ref">Chaos</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#formel-ref">Formel</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#github-ref">GitHub</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#physik-ref">Physik</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#video-ref">Video</a>
</span>
</span>
</div>
</header>
<div class="post-content">
<p>Nachdem ich so vielen Differenzialgleichungssystemen [<a href="https://blog.schawe.me/dreikorperproblem.html">1</a>, <a href="https://blog.schawe.me/schmetterlingseffekt.html">2</a>, <a href="https://blog.schawe.me/seltsamer-attraktor.html">3</a>, <a href="https://blog.schawe.me/double-pendulum.html">4</a>]
begegnet bin, die sich nicht analytisch lösen lassen, habe ich mir ein
<a href="https://github.com/surt91/DGLshow">Programm zur numerischen Lösung und Visualisierung derselben geschrieben</a>.</p>
<video controls="" poster="/img/doublePendulum.png" width="100%">
<source src="/vid/doppelpendel.mp4" type="video/mp4"/>
![Doppelpendel](/img/doublePendulum.png)
</video>
<p>Die grundlegende Idee zur numerischen Lösung von Differentialgleichungen ist es, die Zeit
in diskreten Schritten <span class="math">\(\tau\)</span> vergehen zu lassen. Nach jedem Schritt wird der
Zustand so geändert, als ob sich während des Zeitschrittes nichts geändert
hätte und die „Kräfte“ werden entsprechend der Bewegungsgleichungen neu berechnet.
Für infinitesimal kleine <span class="math">\(\tau \to \mathrm{d}t\)</span> ist diese Methode schließlich exakt.</p>
<p>Im einfachsten Fall, dem Euler Verfahren, sähe das für ein einfaches
Fadenpendel nach <span class="math">\(k\)</span> Zeitschritten so aus
</p>
<div class="math">\begin{align*}
    \ddot\vartheta_{k+1} &amp;= - mgl \sin(\vartheta_k)\\
    \dot\vartheta_{k+1} &amp;= \tau \ddot\vartheta_{k} + \dot\vartheta_{k}\\
    \vartheta_{k+1} &amp;= \tau \dot\vartheta_{k} + \vartheta_{k}
\end{align*}</div>
<p>
Unglücklicherweise hat dieses Verfahren ernsthafte Probleme mit der Energieerhaltung
und braucht sehr kleine <span class="math">\(\tau\)</span> für brauchbare Ergebnisse.
Es gibt deutlich ausgefeiltere Methoden, wie den <a href="https://en.wikipedia.org/wiki/Runge%E2%80%93Kutta_methods#The_Runge.E2.80.93Kutta_method">klassischen Runge-Kutta</a>
Algorithmus. Es gibt Methoden, den Zeitschritt <span class="math">\(\tau\)</span> während der Simulation
adaptiv anzupassen, um nur wenig Rechenaufwand in den wenig fehleranfälligen
Phasen zu verbringen. Es gibt spezialisierte Methoden, die sehr gut für bestimmte Bewegungsgleichungen
funktionieren, wie <a href="https://en.wikipedia.org/wiki/Verlet_integration">Velocity-Verlet</a>,
der oft für Molekulardynamiksimulationen eingesetzt wird.</p>
<p>Chaotische Systeme haben in der Regel etwas kompliziertere Bewegungsgleichungen. Das oben abgebildete
Doppelpendel etwa wird, <a href="https://blog.schawe.me/double-pendulum.html">wie ich in einem anderen Post beschrieben habe</a>
durch folgendes Ungetüm beschrieben.</p>
<div class="math">\begin{align*}
    \ddot\theta_1 &amp;= \frac{m_2 \cos(\theta_1 - \theta_2) (l_1 \sin(\theta_1 - \theta_2) \dot\theta_1^2 - g \sin(\theta_2)) + m_2 l_2 \sin(\theta_1 - \theta_2) \dot\theta_2^2 + (m_1 + m_2) g \sin(\theta_1)}{m_2 l_1 \cos^2(\theta_1 - \theta_2) - (m_1+m_2) l_1} \\
    \ddot\theta_2 &amp;= \frac{m_2 l_2 \cos(\theta_1 - \theta_2) \sin(\theta_1 - \theta_2) \dot\theta_2^2 + (m_1+m_2) l_1 \sin(\theta_1 - \theta_2) \dot\theta_1^2 + (m_1+m_2) g \cos(\theta_1 - \theta_2) \sin(\theta_1) - (m_1+m_2) g \sin(\theta_2)}{(m_1+m_2) l_2 - m_2 l_2 \cos^2(\theta_1 - \theta_2)}
\end{align*}</div>
<p>Anfangs empfiehlt es sich also etwas einfacheres und vertrauteres zu lösen,
wie den <a href="https://blog.schawe.me/schmetterlingseffekt.html">Lorenz-Attraktor</a>
</p>
<div class="math">\begin{align*}
    \dot{X} &amp;= a(Y - X) \\
    \dot{Y} &amp;= X(b - Z) - Y \\
    \dot{Z} &amp;= XY - cZ \\
\end{align*}</div>
<p>Oder das <a href="https://blog.schawe.me/dreikorperproblem.html">Dreikörperproblem</a>
</p>
<div class="math">\begin{align*}
    \ddot{\vec{x}_1} &amp;= -\frac{Gm_2}{\left(x_1 - x_2\right)^3} (\vec{x}_1 - \vec{x}_2) - \frac{Gm_3}{\left(x_1 - x_3\right)^3} (\vec{x}_1 - \vec{x}_3)\\
    \ddot{\vec{x}_2} &amp;= -\frac{Gm_1}{\left(x_2 - x_1\right)^3} (\vec{x}_2 - \vec{x}_1) - \frac{Gm_3}{\left(x_2 - x_3\right)^3} (\vec{x}_2 - \vec{x}_3)\\
    \ddot{\vec{x}_3} &amp;= -\frac{Gm_1}{\left(x_3 - x_1\right)^3} (\vec{x}_3 - \vec{x}_1) - \frac{Gm_2}{\left(x_3 - x_2\right)^3} (\vec{x}_3 - \vec{x}_2)\\
\end{align*}</div>
<p>Da man das 3-Körperproblem trivial auf ein <span class="math">\(N\)</span>-Körperproblem erweitern kann,
habe ich hier ein „Sonnensystem“ bzw. Bohrsches „Atom“-modell simuliert.</p>
<p><img alt="Sonnensystem" height="800" src="/img/planets.png" width="800"/></p>
<p>Um die obigen (bewegten) Bilder zu erzeugen und um ein bewegtes Doppelpendel
für meinen Schreibtisch zu haben, — wennauch nur auf einem Bildschirm — habe
ich in C++ einen adaptiven Runge-Kutta-4 Löser geschrieben, der mit den Qt
Zeichenprimitiven animiert wird.</p>
<p>Auch wenn der Code nicht sehr aufgeräumt ist und Startwerte im Quellcode
angepasst werden müssen, sind die Quellen auf GitHub:
<a href="https://github.com/surt91/DGLshow">github.com/surt91/DGLshow</a>.</p>
</div>
</article>
</div>
<div class="post-navigation">
<nav class="pagination">
<a href="https://blog.schawe.me/tag/bild4.html">← Neuer</a>
<span class="separatordot">·</span>
<a href="https://blog.schawe.me/tag/bild6.html">Älter →</a>
<br/>
            5 / 8
        </nav>
</div>
</div>
<div id="last-update">
<time datetime="2024-12-27 10:29:03">10:29:03 27.12.2024</time>
</div>
</div>
<script async="" src="/theme/webassets-external/0cf7968c252ead5c096e55c1f7673096_rythm.js"></script>
<script async="" src="/theme/webassets-external/a8b690a4c23c0610ea6538a9352534be_totally_serious_script.js"></script>
<script async="" src="/theme/js/unregister_service_worker.js"></script>
</body>
</html>