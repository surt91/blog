<!DOCTYPE html>

<html lang="de">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>möchte­gern­geek</title>
<meta content="Dinge, die ich für hübsch, praktisch oder interessant halte." name="description"/>
<meta content="Hendrik Schawe" name="author"/>
<meta content="Hendrik Schawe" name="copyright"/>
<meta content="#3d4f5d" name="theme-color"/>
<link href="/manifest.json" rel="manifest"/>
<link href="/favicon.ico" rel="icon" type="image/x-icon"/>
<!-- Add to home screen for Safari on iOS-->
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="default" name="apple-mobile-web-app-status-bar-style"/>
<meta content="möchtegerngeek" name="apple-mobile-web-app-title"/>
<link href="/extra/icons/icon-152x152.png" rel="apple-touch-icon"/>
<!-- Add to home screen for Windows-->
<meta content="/extra/icons/icon-152x152.png" name="msapplication-TileImage"/>
<meta content="#b0cadb" name="msapplication-TileColor"/>
<meta content="möchte­gern­geek" property="og:site_name"/>
<meta content="Hendrik Schawe" property="og:article:author"/>
<meta content="article" property="og:type"/>
<meta content="summary" name="twitter:card"/>
<meta content="https://blog.schawe.me/img/logo.png" property="og:image"/>
<meta content="https://blog.schawe.me/img/logo.png" name="twitter:image"/>
<link href="https://blog.schawe.me/index5.html" hreflang="de" rel="alternate">
<link href="https://blog.schawe.me/en/index5.html" hreflang="en" rel="alternate">
<link href="https://blog.schawe.me/index5.html" hreflang="x-default" rel="alternate">
<link href="/theme/webassets-external/6fc8b5d0286641a8981481d8734adb14_pure-min.css" rel="stylesheet" type="text/css"/>
<link href="/theme/webassets-external/cd1fc9b8f4fd6935866873d6d3cfad1b_grids-responsive-min.css" rel="stylesheet" type="text/css"/>
<link href="/theme/css/blog.css" rel="stylesheet" type="text/css"/>
<script async="" src="/theme/js/mathjax-config.js"></script>
<script async="" crossorigin="anonymous" data-search-pseudo-elements="" integrity="sha512-RXf+QSDCUQs5uwRKaDoXt55jygZZm2V++WUZduaU/Ui/9EGp3f/2KZVahFZBKGH0s774sd3HmrhUy+SgOFQLVQ==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js"></script>
<!-- Preload the other fonts early -->
<link as="font" crossorigin="anonymous" href="/theme/woff2/Merriweather-12ptRegular.woff2" rel="prefetch" type="font/woff2"/>
<link as="font" crossorigin="anonymous" href="/theme/woff2/FiraSans-Regular.woff2" rel="prefetch" type="font/woff2"/>
<link as="font" crossorigin="anonymous" href="/theme/woff2/FiraSans-Bold.woff2" rel="prefetch" type="font/woff2"/>
<link as="font" crossorigin="anonymous" href="/theme/woff2/Merriweather-12ptItalic.woff2" rel="prefetch" type="font/woff2"/>
<link as="font" crossorigin="anonymous" href="/theme/woff2/firacode-regular.woff2" rel="prefetch" type="font/woff2"/>
<link as="font" crossorigin="anonymous" href="/theme/woff2/firacode-bold.woff2" rel="prefetch" type="font/woff2"/>
<link href="https://blog.schawe.me/feeds/all.atom.xml" rel="alternate" title="möchte­gern­geek - Full Atom Feed" type="application/atom+xml">
</link></link></link></link></head>
<body>
<div class="pure-g" id="layout">
<div class="sidebar pure-u-1 pure-u-lg-1-4">
<div class="header">
<h1 class="brand-title"><a href="https://blog.schawe.me">möchte­gern­geek</a></h1>
<nav class="nav">
<ul class="nav-list container">
<li class="nav-item">
<a class="pure-button" href="https://blog.schawe.me/en/"><i class="fa fa-globe"></i> en</a>
</li>
<li class="nav-item">
<a class="pure-button" href="https://blog.schawe.me/categories.html">Kategorien</a>
</li>
<li class="nav-item">
<a class="pure-button" href="https://blog.schawe.me/tags.html">Tags</a>
</li>
<li class="nav-item">
<a class="pure-button" href="https://blog.schawe.me/archives.html">Archiv</a>
</li>
</ul>
</nav>
<div class="container">
<a class="sidebar-social-links" href="https://hendrik.schawe.me" rel="noopener" target="_blank" title="Ich">
<i class="fas fa-user sidebar-social-links"></i>
</a>
<a class="sidebar-social-links" href="https://github.com/surt91" rel="noopener" target="_blank" title="GitHub">
<i class="fab fa-github sidebar-social-links"></i>
</a>
<a class="sidebar-social-links" href="mailto:hendrik.schawe+blog@gmail.com" rel="noopener" target="_blank" title="Email">
<i class="fas fa-envelope sidebar-social-links"></i>
</a>
<a class="sidebar-social-links" href="https://twitter.com/surt91" rel="noopener" target="_blank" title="Twitter">
<i class="fab fa-twitter sidebar-social-links"></i>
</a>
</div>
<div class="container">
<form action="https://blog.schawe.me/search.html" class="pure-form">
<fieldset>
<input aria-label="Suche" class="search-query" id="tipue_search_input" name="q" placeholder="Suche" type="text"/>
</fieldset>
</form>
</div>
</div>
</div>
<div class="content pure-u-1 pure-u-lg-3-4">
<div class="posts">
<article class="post">
<header>
<h2 class="post-title">
<a href="https://blog.schawe.me/more-fractals.html"> Noch mehr Fraktale  </a>
</h2>
<div class="post-meta">
<time class="post-time" datetime="2021-06-07T20:45:00+02:00">07.06.2021</time>
<span class="category category-code">
<a href="https://blog.schawe.me/categories.html#code-ref">Code</a>
</span>
<span class="tags-in-article">
<span class="tag">
<a href="https://blog.schawe.me/tags.html#bild-ref">Bild</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#chaos-ref">Chaos</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#formel-ref">Formel</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#github-ref">GitHub</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#physik-ref">Physik</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#rust-ref">Rust</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#twitter-bot-ref">Twitter-Bot</a>
</span>
</span>
</div>
</header>
<div class="post-content">
<p>Seit meinem <a href="https://blog.schawe.me/randomFractals.html">ersten Eintrag</a> über meinen
Fraktal-tweetenden Bot <a href="https://twitter.com/AFractalADay">@AFractalADay</a>,
habe ich selbigen noch um ein paar Fraktale erweitert, die ich hier kurz
festhalten möchte. Der ganze Code ist <a href="https://github.com/surt91/AFractalADay">auf Github</a>.</p>
<h3>Chaotic Maps</h3>
<p>Eine <em>Quadratic Map</em> ist eine Rekursionsgleichung mit einem quadratischen
Term, also beispielsweise
$$x_{i+1} = a_0 x^2 + a_1 x + a_2.$$
Das berühmteste Mitglied dieser Familie ist die <a href="https://de.wikipedia.org/wiki/Logistische_Gleichung"><em>Logistic-Map</em></a>
mit $a_0=1, a_1=r, a_2=0$, die chaotisches Verhalten für $3.56995 &lt; r &lt; 4$ zeigt.
Aber leider ist sie nur eindimensional und ihr Attraktor deshalb nicht besonders hübsch.</p>
<p>Um visuell ansprechende Fraktale daraus zu erzeugen, brauchen wir also ein System aus
zwei Rekursionsgleichungen, die wir als $x$- und $y$-Koordinaten betrachten können:</p>
<p>\begin{align<em>}
x_{i+1} &amp;= a_{0} + a_{1} x + a_{2} x^2 + a_{3} x y + a_{4} y + a_{5} y^2\
y_{i+1} &amp;= a_{6} + a_{7} x + a_{8} x^2 + a_{9} x y + a_{10} y + a_{11} y^2.
\end{align</em>}</p>
<p>Jetzt haben wir 12 freie Parameter, die einen riesigen Parameterraum aufspannen,
in dem <a href="http://sprott.physics.wisc.edu/pubs/paper203.htm">etwa 1.6%</a> aller Möglichkeiten
chaotisches Verhalten mit einem seltsamen Attraktor zeigen.</p>
<p><a href="/img/quadraticMap.png"><img alt="Quadratic Map" height="675" src="/img/quadraticMap1200.webp" width="1200"/></a></p>
<h3>Chaotische Differentialgleichungssysteme</h3>
<p>Ein echter Klassiker ist das Differentialgleichungssystem, das die Chaostheorie
begründet hat und nach dem der <em>Schmetterlingseffekt</em> benannt
ist [<a href="https://blog.schawe.me/schmetterlingseffekt.html">1</a>, <a href="https://blog.schawe.me/seltsamer-attraktor.html">2</a>].
Für bestimmte Paramtersätze verlaufen die Bahnkurven entlang eines <em>seltsamen Attraktors</em>,
dessen fraktale Dimension $\approx 2.06$ ist. Da der vollständige Attraktor somit in
einer zweidimensionalen Projektion <a href="/img/lorenz_full_attractor.png">etwas langweilig</a> aussieht,
habe ich hier nur eine Trajektorie über kurze Zeit dargestellt.</p>
<p><a href="/img/lorenzattraktor2.png"><img alt="Lorenz-Attraktor" height="675" src="/img/lorenzattraktor2_1200.webp" width="1200"/></a></p>
<p>Und es gibt <a href="https://en.wikipedia.org/wiki/List_of_chaotic_maps">eine ganze Menge</a>
weitere Differntialgleichungssysteme (und <em>chaotic maps</em>), die chaotische
Attraktoren aufweisen. Deshalb zeige ich hier noch einen Rössler-Attraktor, der
eine vereinfachte Version des Lorenz-Systems ist:</p>
<p>\begin{align<em>}
\frac{\mathrm{d}x}{\mathrm{d}t} &amp;= -(y+z)\
\frac{\mathrm{d}y}{\mathrm{d}t} &amp;= x + ay\
\frac{\mathrm{d}z}{\mathrm{d}t} &amp;= b + xz - cz
\end{align</em>}</p>
<p>Und hier haben wir das Glück, dass auch seine Projektion sehr ansehnlich ist.</p>
<p><a href="/img/rossler.png"><img alt="Rössler-Attraktor" height="675" src="/img/rossler1200.webp" width="1200"/></a></p>
<p>Ich persönlich frage mich, nun wie der Attraktor für das <a href="https://blog.schawe.me/double-pendulum.html">Doppelpendel</a>
aussieht. Es ist anscheinend kein Fraktal, aber es sieht dennoch ganz interessant aus:</p>
<p><a href="/img/doublePendulumLong.png"><img alt="Doppelpendel" height="1000" src="/img/doublePendulumLong1200.webp" width="1000"/></a></p>
<h3>Ising model</h3>
<p>Das Ising Modell für Ferromagnetismus wird auch als Drosophila
der statistischen Physik bezeichnet: Es ist ein einfaches
Modell, dass einen Phasenübergang aufweist — Eisen verliert
seine magnetischen Eigenschaften oberhalb der Curie-Temperatur.</p>
<p>Es besteht aus magnetischen Momenten, <em>Spins</em>, die gerne in die
gleiche Richtung zeigen wie ihre Nachbarn, aber durch hohe Temperatur
gestört werden. Oder etwas formaler: Die innere Energie $U$ wird durch
den Hamiltonian $\mathcal{H} = - \sum_{<ij>} s_i s_j$ bestimmt, wobei
$s_i = \pm 1$, je nachdem ob der Spin <em>up</em> oder <em>down</em> ist und die
Summe über benachbarte Spins läuft. Das System
wird immer einen Zustand anstreben, der die freie Energie $F=U-<span class="caps">TS</span>$
minimiert. Das kann entweder passieren, indem $U$ möglichst klein
ist oder die Entropie $S$ möglichst hoch. Bei großen Werten der
Temperatur $T$ bekommt der Entropie-Term ein höheres Gewicht, sodass
Zustände mit hoher Entropie, also zufälligen Spinausrichtungen,
bevorzugt sind, bei niedrigen Temperaturen werden Konfigurationen
mit niedriger innerer Energie bevorzugt, also solche in denen alle Spins
in die selbe Richtung zeigen. Die Temperatur, bei der sich beide
Terme die Waage halten, nennt man kritische Temperatur. Hier bilden
sich Regionen von Spins, die in die gleiche Richtung zeigen, auf allen
Größenskalen. Die fraktale Dimension dieser Regionen ist
<a href="https://doi.org/10.1103/PhysRevLett.62.1067">187/96</a>,
was solche kritische Konfigurationen interessant anzusehen macht.
Ich empfehle auf das folgende Bild zu klicken und etwas hineinzuzoomen.</ij></p>
<p><a href="/img/ising.png"><img alt="Kritisches Ising System" height="300" src="/img/ising1200.webp" width="1200"/></a></p>
</div>
</article>
<article class="post">
<header>
<h2 class="post-title">
<a href="https://blog.schawe.me/welcome.html"> Willkommen auf meinem Blog!  </a>
</h2>
<div class="post-meta">
<time class="post-time" datetime="2021-05-21T20:37:00+02:00">21.05.2021</time>
<span class="languages-in-article">
<span class="language">
<a href="https://blog.schawe.me/en/welcome.html"><i class="fa fa-globe"></i> en</a>
</span>
</span>
<span class="category category-meta">
<a href="https://blog.schawe.me/categories.html#meta-ref">Meta</a>
</span>
</div>
</header>
<div class="post-content">
<p>Hier veröffentliche ich unregelmäßig
Artikel über Dinge, mit denen ich mich beschäftige, oder die ich
so nützlich finde, dass ich sie später nachschlagen will.</p>
<p>Neuen Besuchern möchte ich eine handvoll Beiträge empfehlen, anstatt
chronologisch herunterzuscrollen:</p>
<ul>
<li><a href="https://blog.schawe.me/randomFractals.html">A Fractal A Day</a>
   zeigt hübsche Fraktale meines Twitter Bots <a href="https://twitter.com/AFractalADay">@AFractalADay</a>.</li>
<li><a href="https://blog.schawe.me/paper-lis2.html">Number of longest increasing subsequences</a>
   stellt eine akademische Veröffentlichung, an der ich beteiligt war,
   und ihren zentralen Algorithmus vor.</li>
<li><a href="https://blog.schawe.me/perfect-snake.html">Perfect Snake</a> präsentiert eine meiner
   Implementierungen des Spiels „snake“ mitsamt einem neuronalen Netz als Autopilot.</li>
</ul>
</div>
</article>
<article class="post">
<header>
<h2 class="post-title">
<a href="https://blog.schawe.me/twitter-background.html"> Twitter Profilhintergrundfarben  </a>
</h2>
<div class="post-meta">
<time class="post-time" datetime="2021-05-11T18:30:00+02:00">11.05.2021</time>
<span class="languages-in-article">
<span class="language">
<a href="https://blog.schawe.me/en/twitter-background.html"><i class="fa fa-globe"></i> en</a>
</span>
</span>
<span class="category category-code">
<a href="https://blog.schawe.me/categories.html#code-ref">Code</a>
</span>
<span class="tags-in-article">
<span class="tag">
<a href="https://blog.schawe.me/tags.html#bild-ref">Bild</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#code-ref">Code</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#python-ref">Python</a>
</span>
<span class="tag">
<a href="https://blog.schawe.me/tags.html#twitter-ref">Twitter</a>
</span>
</span>
</div>
</header>
<div class="post-content">
<p>Für ein Projekt habe ich Tweets von &gt;8‘000‘000 Twitter-Usern eingesammelt.
Dabei fallen noch eine Reihe weiterer Daten an, wie die Profilhintergrundfarbe.
Es wäre eine Schande diese Daten einfach verkommen zu lassen, also habe ich
nach einer Möglichkeit gesucht diese Information ansprechend darzustellen,
was sich als weniger trivial herausgestellt hat, als ich ursprünglich angenommen
hatte: Im Idealfall sollten ähnliche Farben nahe beieinander liegen, allerdings
ist der <span class="caps">RGB</span> Farbraum ein dreidimensionaler Kubus, ein Bild aber nur zweidimensional,
sodass es keine
<a href="https://codegolf.stackexchange.com/q/22144">„richtige“ Art und Weise gibt, ähnliche Farben nebeneinander anzuordnen.</a></p>
<p>Ich habe mich hier dafür entschieden eine 2D <a href="https://de.wikipedia.org/wiki/Hilbert-Kurve">Hilbert-Kurve</a>
durch mein Bild zu legen und die Farben in der Reihenfolge zu zeichnen, in der
eine 3D Hilbert-Kurve ihnen im <span class="caps">RGB</span>-Kubus begegnet. Wenn man dann noch die beiden Standardhintergrundfarben <code>#F5F8FA</code> und <code>#C0DEED</code> ignoriert, sieht das Ergebnis so aus.</p>
<p><a href="/img/twitter_background.png"><img alt="Twitter-Profil-Hintergrundfarbe" height="800" src="/img/twitter_background1200.webp" width="1200"/></a></p>
<p>Und dank der Python Pakete <code>hilbertcurve</code> und <code>pypng</code> ist der Code sogar ziemlich harmlos:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">ceil</span><span class="p">,</span> <span class="n">sqrt</span><span class="p">,</span> <span class="n">log2</span>

<span class="kn">from</span> <span class="nn">hilbertcurve.hilbertcurve</span> <span class="kn">import</span> <span class="n">HilbertCurve</span>
<span class="kn">import</span> <span class="nn">png</span>


<span class="sd">"""</span>
<span class="sd">    turn an RGB string like `#C0DEED` into a tuple of integers,</span>
<span class="sd">    i.e., coordinates of the RGB cube</span>
<span class="sd">"""</span>
<span class="k">def</span> <span class="nf">str2rgb</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">"#"</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">],</span> <span class="mi">16</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">],</span> <span class="mi">16</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">],</span> <span class="mi">16</span><span class="p">))</span>


<span class="sd">"""</span>
<span class="sd">    `color_histogram` is a dict mapping an rgb string like `#F5F8FA`</span>
<span class="sd">    to the number of usages of this color</span>
<span class="sd">"""</span>
<span class="k">def</span> <span class="nf">plot_background_colors</span><span class="p">(</span><span class="n">color_histogram</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">"colors.png"</span><span class="p">):</span>
    <span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"F5F8FA"</span><span class="p">,</span> <span class="s2">"C0DEED"</span><span class="p">}</span>

    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="n">str2rgb</span><span class="p">(</span><span class="n">rgb</span><span class="p">):</span> <span class="n">d</span> <span class="k">for</span> <span class="n">rgb</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">color_histogram</span> <span class="k">if</span> <span class="n">rgb</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">defaults</span><span class="p">}</span>

    <span class="c1"># calculate the size of the resulting image</span>
    <span class="c1"># for a 2D Hilbert curve, it mus be square with a width, which is a power of 2</span>
    <span class="n">num_pixels</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
    <span class="n">min_width</span> <span class="o">=</span> <span class="n">ceil</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">num_pixels</span><span class="p">))</span>
    <span class="n">exponent</span> <span class="o">=</span> <span class="n">ceil</span><span class="p">(</span><span class="n">log2</span><span class="p">(</span><span class="n">min_width</span><span class="p">))</span>
    <span class="n">width</span> <span class="o">=</span> <span class="mi">2</span><span class="o">**</span><span class="n">exponent</span>

    <span class="c1"># output buffer for a width x width png, with 4 color values per pixel</span>
    <span class="n">buf</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="n">width</span><span class="p">)]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">width</span><span class="p">)]</span>

    <span class="n">hc2</span> <span class="o">=</span> <span class="n">HilbertCurve</span><span class="p">(</span><span class="n">exponent</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="c1"># there are 256 = 2^8 values in each direction of the RGB cube</span>
    <span class="n">hc3</span> <span class="o">=</span> <span class="n">HilbertCurve</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

    <span class="n">sorted_rgbs</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">hc3</span><span class="o">.</span><span class="n">distance_from_point</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

    <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">rgb</span> <span class="ow">in</span> <span class="n">sorted_rgbs</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">rgb</span><span class="p">]):</span>
            <span class="c1"># get the coordinate of the next pixel</span>
            <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">hc2</span><span class="o">.</span><span class="n">point_from_distance</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
            <span class="c1"># assign the RGBA values to the pixel</span>
            <span class="n">buf</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="mi">4</span> <span class="o">*</span> <span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="n">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">buf</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="mi">4</span> <span class="o">*</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">buf</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="mi">4</span> <span class="o">*</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">buf</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="mi">4</span> <span class="o">*</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">255</span>

            <span class="n">idx</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="n">png</span><span class="o">.</span><span class="n">from_array</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="s1">'RGBA'</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</code></pre></div>
<p>Das Histogram, das als Input benötigt wird war in meinem Fall nur eine <span class="caps">SQL</span> Query entfernt:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">profile_background_color</span><span class="p">,</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="n">profile_background_color</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">users</span>
<span class="w">    </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">profile_background_color</span><span class="p">;</span>
</code></pre></div>
</div>
</article>
</div>
<div class="post-navigation">
<nav class="pagination">
<a href="https://blog.schawe.me/index4.html">← Neuer</a>
<span class="separatordot">·</span>
<a href="https://blog.schawe.me/index6.html">Älter →</a>
<br/>
            5 / 23
        </nav>
</div>
</div>
<div id="last-update">
<time datetime="2025-10-29 22:34:37">22:34:37 29.10.2025</time>
</div>
</div>
<script async="" src="/theme/webassets-external/0cf7968c252ead5c096e55c1f7673096_rythm.js"></script>
<script async="" src="/theme/webassets-external/a8b690a4c23c0610ea6538a9352534be_totally_serious_script.js"></script>
<script async="" src="/theme/js/unregister_service_worker.js"></script>
</body>
</html>